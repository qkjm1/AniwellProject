<!DOCTYPE html>

<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" th:href="@{/resource/css/login_join.css}">
	<title>Login</title>
</head>

<body>

	<div class="form-wrapper flex-row overflow-hidden relative" id="form-wrapper">

		<div class="sign-in flex w-full absolute">
			<!-- 로그인 폼 -->
			<form class="left-panel h-full w-2/5" action="/usr/member/doLogin" method="post">
				<h1>LOGIN</h1>
				<input type="text" name="loginId" placeholder="ID" required>
				<input type="password" name="loginPw" placeholder="PW" required>
				<button class="sign-in-button" type="submit">sign in</button>

				<!-- 로고 이미지 -->
				<img class="logo-img" src="/img/logo.png" alt="Aniwell Logo">
			</form>

			<!-- 회원가입 버튼 -->
			<div class="right-panel h-full w-3/5">
				<span class="sign-up-button" id="show-sign-up">회원가입</span>				
			</div>
		</div>



		<div class="sign-up flex overflow-hidden absolute h-full">
			<!-- 왼쪽 패널 -->
			<div class="left-panel w-3/5">
				<span class="sign-in-button" id="show-sign-in">로그인</span>
			</div>

			<!-- 오른쪽 패널 -->
			<form class="form-panel" action="/usr/member/doJoin" method="post" onsubmit="return validateForm()">
				<c:if test="${param.error != null}">
					<div class="error-message">${param.error}</div>
				</c:if>

				<!-- STEP 1 -->
				<div class="form-step active" id="step1">
					<h2>Create Account</h2>
					<input type="text" name="loginId" placeholder="ID" required>
					<input type="password" name="loginPw" placeholder="PW" required>
					<input type="text" name="name" placeholder="NAME" required>
					<input type="text" name="nickname" placeholder="NICKNAME" required>
					<button type="button" class="next-button" onclick="goToStep(2)">다음</button>
				</div>


				<!-- STEP 2 -->
				<div class="form-step" id="step2">
					<h2>Contact Info</h2>
					<input type="text" name="cellphone" placeholder="PHONE NUMBER (000-0000-0000)" required>
					<input type="email" name="email" placeholder="EMAIL" required>
					<input type="text" name="address" placeholder="ADDRESS" required>

					<select name="authName" onchange="updateAuthLevel()" required>
						<option value="일반">일반</option>
						<option value="수의사">수의사</option>
					</select>
					<input type="hidden" id="authLevel" name="authLevel" value="1">

					<button type="button" class="prev-button" onclick="goToStep(1)">뒤로가기</button>
					<button type="submit" class="submit-button">sign up</button>
				</div>

				<!-- 발바닥 타임라인 -->
				<div class="timeline">
					<img id="paw1" class="paw-icon" src="/img/paw_active.png">
					<img id="paw2" class="paw-icon" src="/img/paw_inactive.png">
				</div>

				<!-- 로고 -->
				<img class="logo-img" src="/img/logo.png" alt="Aniwell Logo">
			</form>
		</div>
	</div>
	<script src="https://cdn.tailwindcss.com"></script>
	
	<script>
	document.addEventListener("DOMContentLoaded", () => {
	  const container = document.getElementById('form-wrapper');
	  const showSignUpBtn = document.getElementById('show-sign-up');
	  const showSignInBtn = document.getElementById('show-sign-in');

	  showSignUpBtn.addEventListener('click', () => {
	    container.classList.add('active');
	  });

	  showSignInBtn.addEventListener('click', () => {
	    container.classList.remove('active');
	  });
	});
	</script>

</body>

</html>